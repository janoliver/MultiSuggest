/*!
 * MultiSuggest jQuery plugin
 *
 * Copyright (c) 2013 Jan Oliver Oelerich (http://www.oelerich.org/)
 * Licensed under the MIT (MIT-LICENSE.txt)
 */
(function(e){e.fn.multisuggest=function(t,n){var r=e.extend({separator:",",suggestionClass:"suggestions"},n);return this.each(function(){var n=e(this);var i=e("<span/>").addClass(r.suggestionClass);n.after(i);var s=-1;var o=[];var u=[];e(this).bind("keyup.multisuggest",function(a){var f=a.keyCode?a.keyCode:a.which;var l=a.shift;if(f==9||f==39||f==37){a.preventDefault();if(!l&&f==9||f==39)s++;else s--;if(s==o.length)s=0;if(s<0)s=o.length-1;u[u.length-1]=o[s];n.val(u.join(", ")+", ")}else{o=[];s=-1;u=n.val().split(r.separator);last_item=e.trim(u[u.length-1]);e.each(t,function(e,t){if(last_item!=""&&t.indexOf(last_item)!==-1){o.push(t)}});i.text(o.join(", "))}})})}})(jQuery)
